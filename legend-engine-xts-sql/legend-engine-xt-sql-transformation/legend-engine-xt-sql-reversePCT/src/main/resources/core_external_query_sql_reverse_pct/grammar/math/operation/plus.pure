// Copyright 2025 Goldman Sachs
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

import meta::pure::test::pct::reversePCT::framework::*;
function meta::external::query::sql::reversePCT::tests::grammar::math::operation::plus::reverses():ReversesForSource[1]
{
  ^ReversesForSource(
    source = '/platform/pure/grammar/functions/math/operation/plus.pure',
    reverses = [
                 revsForTest(
                      'meta::pure::functions::math::tests::plus::testSimplePlus_Function_1__Boolean_1_',
                      [
                        rev('|1 + 2',
                            'select (1 + 2)'
                        )
                      ]
                 ),
                 revsForTest(
                      'meta::pure::functions::math::tests::plus::testComplexPlus_Function_1__Boolean_1_',
                      [
                        rev('|3 + (4 + 5) + 7',
                            'select (3 + (4 + 5) + 7)'
                        )
                      ]
                 ),
                 revsForTest(
                      'meta::pure::functions::math::tests::plus::testNegativePlus_Function_1__Boolean_1_',
                      [
                        rev('|1 + (-2)',
                            'select (1 + -2)'
                        )
                      ]
                 ),
                 revsForTest(
                      'meta::pure::functions::math::tests::plus::testPlusMany_Function_1__Boolean_1_',
                      [
                        rev('|3 + 4 + 5 + 7',
                            'select (3 + 4 + 5 + 7)'
                        )
                      ]
                 ),
                 revsForTest(
                      'meta::pure::functions::math::tests::plus::testSinglePlus_Function_1__Boolean_1_',
                      [
                        rev('|+(1)',
                            'select sum(1)'
                        ),
                        rev('|+(+(1))',
                            'select sum(1)'
                        ),
                        rev('|+(+(+(1)))',
                            'select sum(1)'
                        )
                      ]
                 ),
                 revsForTest(
                      'meta::pure::functions::math::tests::plus::testSinglePlusType_Function_1__Boolean_1_',
                      [
                        noRev('|meta::pure::functions::meta::type(+(1))->meta::pure::functions::multiplicity::toOne()'),
                        noRev('|meta::pure::functions::meta::type(+(1.0))->meta::pure::functions::multiplicity::toOne()')
                      ]
                 ),
                 revsForTest(
                      'meta::pure::functions::math::tests::plus::testFloatPlus_Function_1__Boolean_1_',
                      [
                        rev('|0.9 + 0.8',
                            'select (0.9 + 0.8)'
                        ),
                        rev('|1 + 0.7',
                            'select (1 + 0.7)'
                        ),
                        rev('|2 + (-0.3)',
                            'select (2 + -0.3)'
                        )
                      ]
                 ),
                 revsForTest(
                      'meta::pure::functions::math::tests::plus::testPlusInteger_Function_1__Boolean_1_',
                      [
                        rev('|15 + 13 + 2 + 1 + 1',
                            'select (15 + 13 + 2 + 1 + 1)'
                        )
                      ]
                 ),
                 revsForTest(
                      'meta::pure::functions::math::tests::plus::testPlusFloat_Function_1__Boolean_1_',
                      [
                        rev('|12.5 + 13.5 + 4.0 + 1.5 + 0.5',
                            'select (12.5 + 13.5 + 4.0 + 1.5 + 0.5)'
                        )
                      ]
                 ),
                 revsForTest(
                      'meta::pure::functions::math::tests::plus::testPlusNumber_Function_1__Boolean_1_',
                      [
                        rev('|15 + 13 + 2.0 + 1 + 1.0',
                            'select (15 + 13 + 2.0 + 1 + 1.0)'
                        )
                      ]
                 ),
                 revsForTest(
                      'meta::pure::functions::math::tests::plus::testDecimalPlus_Function_1__Boolean_1_',
                      [
                        rev('|1.0D + 2.0D + 3.0D',
                            'select (cast(1.0 as decimal) + cast(2.0 as decimal) + cast(3.0 as decimal))'
                        ),
                        rev('|1.0D + 2.0 + 3',
                            'select (cast(1.0 as decimal) + 2.0 + 3)'
                        ),
                        rev('|(-4.0D) + 2.0D + 1',
                            'select (cast(-4.0 as decimal) + cast(2.0 as decimal) + 1)'
                        )
                      ]
                 ),
                 revsForTest(
                      'meta::pure::functions::math::tests::plus::testLargePlus_Function_1__Boolean_1_',
                      [
                        revError('|9223372036854775807 + 3 + (4 + 5) + 7',
                            '',
                            'Unexpected token',
                            'needs investigating - select (9223372036854775807 + 3 + (4 + 5) + 7)'
                        ),
                        revError('|4 + 9223372036854775807 + 9223372036854775807 + 3',
                            '',
                            'Unexpected token',
                            'needs investigating - select (4 + 9223372036854775807 + 9223372036854775807 + 3)'
                        ),
                        revError('|9223372036854775807 + 3 + 4 + 5 + 7',
                            '',
                            'Unexpected token',
                            'needs investigating - select (9223372036854775807 + 3 + 4 + 5 + 7)'
                        )
                      ]
                 )
               ]
  )
}

function meta::external::query::sql::reversePCT::tests::grammar::math::operation::plus::exec():Boolean[1]
{
   meta::pure::functions::math::tests::plus::testSimplePlus(meta::external::query::sql::reversePCT::framework::sql_Function_1__X_o_);
   meta::pure::functions::math::tests::plus::testComplexPlus(meta::external::query::sql::reversePCT::framework::sql_Function_1__X_o_);
   meta::pure::functions::math::tests::plus::testNegativePlus(meta::external::query::sql::reversePCT::framework::sql_Function_1__X_o_);
   meta::pure::functions::math::tests::plus::testPlusMany(meta::external::query::sql::reversePCT::framework::sql_Function_1__X_o_);
   meta::pure::functions::math::tests::plus::testSinglePlus(meta::external::query::sql::reversePCT::framework::sql_Function_1__X_o_);
   //meta::pure::functions::math::tests::plus::testSinglePlusType(meta::external::query::sql::reversePCT::framework::sql_Function_1__X_o_);
   meta::pure::functions::math::tests::plus::testFloatPlus(meta::external::query::sql::reversePCT::framework::sql_Function_1__X_o_);
   meta::pure::functions::math::tests::plus::testPlusInteger(meta::external::query::sql::reversePCT::framework::sql_Function_1__X_o_);
   meta::pure::functions::math::tests::plus::testPlusFloat(meta::external::query::sql::reversePCT::framework::sql_Function_1__X_o_);
   meta::pure::functions::math::tests::plus::testPlusNumber(meta::external::query::sql::reversePCT::framework::sql_Function_1__X_o_);
   meta::pure::functions::math::tests::plus::testDecimalPlus(meta::external::query::sql::reversePCT::framework::sql_Function_1__X_o_);
   meta::pure::functions::math::tests::plus::testLargePlus(meta::external::query::sql::reversePCT::framework::sql_Function_1__X_o_);
}